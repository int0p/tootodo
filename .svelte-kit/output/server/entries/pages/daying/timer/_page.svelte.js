import{c as w,a as Z,j as $,b as ee,e as ae,d as te,k as oe,v as o,f as b,h as x,l as we,i as G,s as ue,n as ce,o as K,p as ke,q as g}from"../../../../chunks/index2.js";import{w as re}from"../../../../chunks/index.js";import _ from"classnames";import{B as U}from"../../../../chunks/Button.js";/* empty css                                                        */import{F as J}from"../../../../chunks/Frame.js";import{C as Y,T as N,P as Te}from"../../../../chunks/_page.js";import{C as se,L as S}from"../../../../chunks/Checkbox.js";import{t as Se,d as Ce}from"../../../../chunks/useLocStorage.js";import"@iconify/icons-material-symbols/delete-outline-rounded.js";import"../../../../chunks/functions.js";import{H as q}from"../../../../chunks/Heading.js";import Me from"@iconify/icons-mingcute/minimize-fill.js";import Ie from"@iconify/icons-mingcute/add-fill.js";import Be from"@iconify/icons-mingcute/back-2-fill.js";import{I as B}from"../../../../chunks/Icon.js";import{u as fe}from"../../../../chunks/_page.svelte_svelte_type_style_lang.js";import{I as C}from"../../../../chunks/Input.js";import je from"@iconify/icons-mingcute/play-fill.js";import de from"@iconify/icons-mingcute/skip-forward-fill.js";import Le from"@iconify/icons-mingcute/pause-fill.js";import _e from"@iconify/icons-mingcute/settings-6-line.js";import"@iconify/icons-mingcute/fullscreen-2-line.js";import"@iconify/icons-mingcute/fullscreen-exit-2-line.js";import{c as me}from"../../../../chunks/clock.js";import"@iconify/icons-bi/play-circle.js";import{Chart as ve,DoughnutController as De,Title as Ge,Tooltip as Ee,Legend as Fe,ArcElement as Re,CategoryScale as ze}from"chart.js";const Pe="font-medium inline-flex items-center justify-center px-2.5 py-0.5",Ne="inline-flex items-center !p-0.5 !m-0 !ml-2 text-sm bg-transparent rounded-sm focus:!ring-0",V=w((l,t,r,u)=>{let s=Z(t,["color","large","border","href","rounded","index","dismissable"]),{color:d="blue"}=t,{large:e=!1}=t,{border:n=!1}=t,{href:a=void 0}=t,{rounded:c=!1}=t,{index:f=!1}=t,{dismissable:i=!1}=t;const p={blue:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300",dark:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",red:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300",green:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",yellow:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300",indigo:"bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-300",purple:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300",pink:"bg-pink-100 text-pink-800 dark:bg-pink-900 dark:text-pink-300",["!blue"]:"bg-blue-500 text-blue-100",["!dark"]:"bg-gray-500 text-gray-100",["!red"]:"bg-red-500 text-white",["!green"]:"bg-green-500 text-green-100",["!yellow"]:"bg-yellow-300 text-yellow-800",["!indigo"]:"bg-indigo-500 text-indigo-100",["!purple"]:"bg-purple-500 text-purple-100",["!pink"]:"bg-pink-500 text-pink-100",none:""},m={blue:"bg-blue-100 text-blue-800 dark:bg-gray-700 dark:text-blue-400 border-blue-400",dark:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-400 border-gray-500",red:"bg-red-100 text-red-800 dark:bg-gray-700 dark:text-red-400 border-red-400",green:"bg-green-100 text-green-800 dark:bg-gray-700 dark:text-green-400 border-green-400",yellow:"bg-yellow-100 text-yellow-800 dark:bg-gray-700 dark:text-yellow-300 border-yellow-300",indigo:"bg-indigo-100 text-indigo-800 dark:bg-gray-700 dark:text-indigo-400 border-indigo-400",purple:"bg-purple-100 text-purple-800 dark:bg-gray-700 dark:text-purple-400 border-purple-400",pink:"bg-pink-100 text-pink-800 dark:bg-gray-700 dark:text-pink-400 border-pink-400",none:""},T={blue:"hover:bg-blue-200",dark:"hover:bg-gray-200",red:"hover:bg-red-200",green:"hover:bg-green-200",yellow:"hover:bg-yellow-200",indigo:"hover:bg-indigo-200",purple:"hover:bg-purple-200",pink:"hover:bg-pink-200",none:""};let M=!1,y;const k={blue:"text-blue-400 hover:text-blue-900 dark:hover:!bg-blue-800 dark:hover:text-blue-300",dark:"text-gray-400 hover:!text-gray-400 hover:!bg-gray-200 dark:hover:!text-gray-300",red:"text-red-400 hover:text-red-900 dark:hover:!bg-red-800 dark:hover:text-red-300",green:"text-green-400 hover:text-green-900 dark:hover:!bg-green-800 dark:hover:text-green-300",yellow:"text-yellow-400 hover:text-yellow-900 dark:hover:!bg-yellow-800 dark:hover:text-yellow-300",indigo:"text-indigo-400 hover:text-indigo-900 dark:hover:!bg-indigo-800 dark:hover:text-indigo-300",purple:"text-purple-400 hover:text-purple-900 dark:hover:!bg-purple-800 dark:hover:text-purple-300",pink:"text-pink-400 hover:text-pink-900 dark:hover:!bg-pink-800 dark:hover:text-pink-300",none:""};let D,E=!1;const W=$(),A=()=>{M=!0,setTimeout(()=>{E=!0},300),W("dismiss",{message:"The badge will be dismissed."})};return t.color===void 0&&r.color&&d!==void 0&&r.color(d),t.large===void 0&&r.large&&e!==void 0&&r.large(e),t.border===void 0&&r.border&&n!==void 0&&r.border(n),t.href===void 0&&r.href&&a!==void 0&&r.href(a),t.rounded===void 0&&r.rounded&&c!==void 0&&r.rounded(c),t.index===void 0&&r.index&&f!==void 0&&r.index(f),t.dismissable===void 0&&r.dismissable&&i!==void 0&&r.dismissable(i),y=_(Pe,e?"text-sm":"text-xs",n?`border ${m[d]}`:p[d],a&&T[d],c?"rounded-full":"rounded",f&&"absolute font-bold border-2 border-white dark:border-gray-900",f&&(e?"w-7 h-7 -top-3 -right-3":"w-6 h-6 -top-2 -right-2"),M&&"transition-opacity duration-300 ease-out opacity-0",t.class),D=_(Ne,k[d]),`${(I=>I?`<${a?"a":"span"}${ee([{href:ae(a)},te(s),{class:ae(y)}],{classes:E?"hidden":""})}>${oe(I)?"":`${u.default?u.default({}):""}
  ${i?`${u.closeBtn?u.closeBtn({handleHide:A}):`
      ${o(Y,"CloseButton").$$render(l,{color:d,size:e?"sm":"xs",name:"Remove badge",class:D},{},{})}
    `}`:""}`}${oe(I)?"":`</${I}>`}`:"")(a?"a":"span")}`}),We=w((l,t,r,u)=>{let s=Z(t,["value","files","inputClass"]),{value:d=""}=t,{files:e=void 0}=t,{inputClass:n="border !p-0 dark:text-gray-400"}=t;return t.value===void 0&&r.value&&d!==void 0&&r.value(d),t.files===void 0&&r.files&&e!==void 0&&r.files(e),t.inputClass===void 0&&r.inputClass&&n!==void 0&&r.inputClass(n),`${o(C,"Input").$$render(l,Object.assign({},s,{class:_(n,t.class)}),{},{default:({props:a})=>`<input${ee([{type:"file"},te(a)],{})}>`})}`}),ge=w((l,t,r,u)=>{let s=Z(t,["open","title","size","placement","autoclose","permanent","backdropClasses","defaultClass"]),d=we(u),{open:e=!1}=t,{title:n=""}=t,{size:a="md"}=t,{placement:c="center"}=t,{autoclose:f=!1}=t,{permanent:i=!1}=t,{backdropClasses:p="bg-gray-900 bg-opacity-50 dark:bg-opacity-80"}=t,{defaultClass:m="relative flex flex-col mx-auto"}=t;const T=$(),M=()=>{switch(c){case"top-left":return["justify-start","items-start"];case"top-center":return["justify-center","items-start"];case"top-right":return["justify-end","items-start"];case"center-left":return["justify-start","items-center"];case"center":return["justify-center","items-center"];case"center-right":return["justify-end","items-center"];case"bottom-left":return["justify-start","items-end"];case"bottom-center":return["justify-center","items-end"];case"bottom-right":return["justify-end","items-end"];default:return["justify-center","items-center"]}},y={xs:"max-w-md",sm:"max-w-lg",md:"max-w-2xl",lg:"max-w-4xl",xl:"max-w-7xl"};let k;return t.open===void 0&&r.open&&e!==void 0&&r.open(e),t.title===void 0&&r.title&&n!==void 0&&r.title(n),t.size===void 0&&r.size&&a!==void 0&&r.size(a),t.placement===void 0&&r.placement&&c!==void 0&&r.placement(c),t.autoclose===void 0&&r.autoclose&&f!==void 0&&r.autoclose(f),t.permanent===void 0&&r.permanent&&i!==void 0&&r.permanent(i),t.backdropClasses===void 0&&r.backdropClasses&&p!==void 0&&r.backdropClasses(p),t.defaultClass===void 0&&r.defaultClass&&m!==void 0&&r.defaultClass(m),T(e?"open":"hide"),k=_(m,t.class),`${e?`
  <div${b("class",_("fixed inset-0 z-40",p),0)}></div>
  
  <div${b("class",_("fixed top-0 left-0 right-0 h-modal md:inset-0 md:h-full z-50 w-full p-4 flex",...M()),0)} tabindex="-1" aria-modal="true" role="dialog"><div class="${"flex relative "+x(y[a],!0)+" w-full max-h-full"}">
      ${o(J,"Frame").$$render(l,Object.assign({},{rounded:!0},{shadow:!0},s,{class:k}),{},{default:()=>`
        ${d.header||n?`${o(J,"Frame").$$render(l,{color:s.color,class:"flex justify-between items-center p-4 rounded-t border-b"},{},{default:()=>`${u.header?u.header({}):`
              <h3 class="${"text-xl font-semibold "+x(s.color?"":"text-gray-900 dark:text-white",!0)+" p-0"}">${x(n)}</h3>
            `}
            ${i?"":`${o(Y,"CloseButton").$$render(l,{name:"Close modal",color:s.color},{},{})}`}`})}`:`${i?"":`${o(Y,"CloseButton").$$render(l,{name:"Close modal",class:"absolute top-3 right-2.5",color:s.color},{},{})}`}`}
        
        <div id="modal" class="p-6 space-y-6 flex-1 overflow-y-auto overscroll-contain">${u.default?u.default({}):""}</div>
        
        ${d.footer?`${o(J,"Frame").$$render(l,{color:s.color,class:"flex items-center p-6 space-x-2 rounded-b border-t"},{},{default:()=>`${u.footer?u.footer({}):""}`})}`:""}`})}</div></div>`:""}`}),Ae=w((l,t,r,u)=>{let s,d;const e=re(!1);d=G(e,p=>s=p),ue("toolbar",e);let{color:n="dark"}=t,{embedded:a=!1}=t,c;const f={gray:"divide-gray-400 dark:divide-gray-700",red:"divide-red-400 dark:divide-red-700",yellow:"divide-yellow-400 dark:divide-yellow-700",green:"divide-green-400 dark:divide-green-700",indigo:"divide-indigo-400 dark:divide-indigo-700",purple:"divide-purple-400 dark:divide-purple-700",pink:"divide-pink-400 dark:divide-pink-700",blue:"divide-blue-400 dark:divide-blue-700",dark:"divide-gray-400 dark:divide-gray-600",none:""};let i;return t.color===void 0&&r.color&&n!==void 0&&r.color(n),t.embedded===void 0&&r.embedded&&a!==void 0&&r.embedded(a),c=_("flex justify-between items-center",a||"p-2",t.class),i=_(s&&"sm:divide-x",f[n]),d(),`${o(J,"Frame").$$render(l,{class:c,color:a?"none":n,rounded:!a},{},{default:()=>`<div class="${"flex flex-wrap items-center "+x(i,!0)}">${u.default?u.default({}):""}</div>
  ${u.end?u.end({}):""}`})}`}),Oe=w((l,t,r,u)=>{let s,d;d=G(Se,f=>s=f);let e=[],{todoSelected:n=[]}=t;t.todoSelected===void 0&&r.todoSelected&&n!==void 0&&r.todoSelected(n);let a,c;do a=!0,n=e,c=`<div class="w-full h-full relative border-l"><div class="flex justify-start relative"><div class="absolute w-3 h-3 bg-gray-200 rounded-full -left-1.5 border border-white "></div>
        <div class="text-sm font-normal leading-none text-gray-400 absolute left-3 ">Todo List</div></div>
    <ul class="my-1 bg-white rounded-lg border border-gray-200 divide-y divide-gray-200 h-[calc(100%-1.7rem)] w-[calc(100%-1rem)] overflow-y-scroll absolute right-0 top-5">${s?`${ce(s,({title:f,id:i})=>`${o(se,"Checkbox").$$render(l,{custom:!0,class:"cursor-pointer !border-t-0 peer-checked:border-blue-600 hover:text-gray-600 peer-checked:text-gray-600 hover:bg-gray-50",value:f,group:n},{group:p=>{n=p,a=!1}},{default:()=>`<li class="max-h-[70px] px-2 py-3 w-full border-b border-dashed"><div class="w-full relative space-x-2.5 flex justify-start items-centers w-max-[220px] ">
                            <div class="self-center w-[4px] h-full bg-blue-600 absolute -left-0 "></div>
                            <p class="text-[1.0rem] w-full relative left-0 max-w-[calc(100%-50px)] line-clamp-2">${x(f)}</p>

                            ${o(se,"Checkbox").$$render(l,{class:"self-center absolute right-0 "},{},{})}





                        </div></li>
                `})}`)}
            `:""}</ul></div>`;while(!a);return d(),c}),Ke={code:".font-digital.svelte-c0rdml{font-family:'Quantico', sans-serif}",map:null},H="flex h-full mb-3 border-0 rounded-lg shadow-md p-1 w-full space-y-2 focus:ring-4 hover:text-red-900 hover:bg-gray-200 focus:text-white ",X="pr-2 pl-2 text-center self-center",qe=w((l,t,r,u)=>{let{timeSelected:s=0}=t;return t.timeSelected===void 0&&r.timeSelected&&s!==void 0&&r.timeSelected(s),l.css.add(Ke),`<div class="flex-col timeController w-full h-full relative border-t-4 mt-2"><div class="w-full h-1/2 flex space-x-1 text-center bg-white absolute top-1"><button class="${x(K(H),!0)+" svelte-c0rdml"}">${o(q,"Heading").$$render(l,{tag:"h5",class:X},{},{default:()=>'<span class="font-digital font-extrabold svelte-c0rdml">5</span>'})}</button>
        <button class="${x(K(H),!0)+" svelte-c0rdml"}">${o(q,"Heading").$$render(l,{tag:"h5",class:X},{},{default:()=>'<span class="font-digital font-extrabold svelte-c0rdml">10</span>'})}</button>
        <button class="${x(K(H),!0)+" svelte-c0rdml"}">${o(q,"Heading").$$render(l,{tag:"h5",class:X},{},{default:()=>'<span class="font-digital font-extrabold svelte-c0rdml">25</span>'})}</button>
        <button class="${x(K(H),!0)+" svelte-c0rdml"}">${o(q,"Heading").$$render(l,{tag:"h5",class:X},{},{default:()=>'<span class="font-digital font-extrabold svelte-c0rdml">60</span>'})}</button></div>

    <div class="w-full h-1/3 flex justify-between space-x-2 absolute bottom-0">${o(V,"Badge").$$render(l,{color:"green",small:!0,class:"w-2/12 !p-0 rounded-md "},{},{default:()=>`<button class="w-full h-full text-center text-lg flex justify-center focus:ring-4 focus:ring-green-200 hover:bg-green-700 hover:text-white">${o(B,"Icon").$$render(l,{icon:Be,class:"self-center"},{},{})}</button>`})}
        ${o(V,"Badge").$$render(l,{small:!0,class:"w-5/12 !p-0 rounded-md"},{},{default:()=>`<button class="w-full h-full text-center text-lg flex justify-center focus:ring-4 focus:ring-blue-200 hover:bg-blue-700 hover:text-white">${o(B,"Icon").$$render(l,{icon:Me,class:"self-center"},{},{})}</button>`})}
        ${o(V,"Badge").$$render(l,{color:"red",small:!0,class:"w-5/12 !p-0 rounded-md "},{},{default:()=>`<button class="w-full h-full text-center text-lg flex justify-center focus:ring-4 focus:ring-red-200 hover:bg-red-700 hover:text-white">${o(B,"Icon").$$render(l,{icon:Ie,class:"self-center"},{},{})}</button>`})}</div>
</div>`});function He(l){const t=Math.floor(l/3600).toString().padStart(2,"0"),r=Math.floor(l%3600/60).toString().padStart(2,"0"),u=Math.floor(l%60).toString().padStart(2,"0");return`${t}:${r}:${u}`}const Xe=w((l,t,r,u)=>{let{state:s}=t,{timeLeft:d}=t,{controlInTimer:e}=t;return t.state===void 0&&r.state&&s!==void 0&&r.state(s),t.timeLeft===void 0&&r.timeLeft&&d!==void 0&&r.timeLeft(d),t.controlInTimer===void 0&&r.controlInTimer&&e!==void 0&&r.controlInTimer(e),`${o(U,"Button").$$render(l,{color:"dark",class:"!bg-rose-950 !rounded-2xl border-white border-4 w-full h-full flex-col py-2 space-y-0 divide-y-2"},{},{default:()=>`<div class="text-center w-full font-digital font-extrabold text-[1.7vw] leading-[1.7vw]">${x(He(d))}</div>
    <div class="text-center text-green-400 w-full font-digital font-extrabold text-[1.7vw] leading-[1.7vw] ">${x(s)}</div>`})}`}),Qe={code:"@keyframes svelte-id6xs3-move{0%{transform:translateX(0)}100%{transform:translateX(-100%)}}",map:null},Je=w((l,t,r,u)=>{let s,d,e;s=G(me,m=>m),e=G(Ce,m=>d=m),$();let{isRunning:n}=t,{state:a}=t,c=!1,f=!0;t.isRunning===void 0&&r.isRunning&&n!==void 0&&r.isRunning(n),t.state===void 0&&r.state&&a!==void 0&&r.state(a),l.css.add(Qe);let i,p;do i=!0,a==="IDLE"?f=!0:f=!1,p=`<div class="w-full h-full flex-col py-4 ">
    
    
    
    
    
    
    <div class="w-full flex justify-start h-14 relative top-1">${o(Ae,"Toolbar").$$render(l,{class:"w-full !justify-center  bg-zinc-50"},{},{default:()=>`${o(N,"ToolbarButton").$$render(l,{},{},{default:()=>`${o(B,"Icon").$$render(l,{icon:de,hFlip:!0,width:"28"},{},{})}`})}

            ${n?`${o(N,"ToolbarButton").$$render(l,{},{},{default:()=>`${o(B,"Icon").$$render(l,{icon:Le,width:"28"},{},{})}`})}`:`${o(N,"ToolbarButton").$$render(l,{},{},{default:()=>`${o(B,"Icon").$$render(l,{icon:je,width:"28"},{},{})}`})}`}

            ${o(N,"ToolbarButton").$$render(l,{disabled:f},{},{default:()=>`${o(B,"Icon").$$render(l,{icon:de,width:"28"},{},{})}`})}
            ${o(N,"ToolbarButton").$$render(l,{class:"absolute right-5",color:"blue"},{},{default:()=>`${o(B,"Icon").$$render(l,{icon:_e,width:"26"},{},{})}`})}`})}</div></div>

${o(ge,"Modal").$$render(l,{size:"xs",class:"w-full",open:c},{open:m=>{c=m,i=!1}},{default:()=>`<form class="flex flex-col space-y-6" action="#"><h3 class="mb-4 text-xl font-medium text-gray-900 dark:text-white">Default Settings</h3>

        <div class="flex w-full justify-between space-x-4">${o(S,"Label").$$render(l,{class:"space-y-2 w-1/2"},{},{default:()=>`<span>하루 시작 시간</span>
                ${o(C,"Input").$$render(l,{type:"time",name:"day start time",placeholder:"AM 07:00",required:!0,value:d.dayStartTime},{value:m=>{d.dayStartTime=m,i=!1}},{})}
`})}
            ${o(S,"Label").$$render(l,{class:"space-y-2 w-1/2"},{},{default:()=>`<span>하루 끝 시간</span>
                ${o(C,"Input").$$render(l,{type:"time",name:"day end time",placeholder:"PM 11:00",required:!0,value:d.dayEndTime},{value:m=>{d.dayEndTime=m,i=!1}},{})}`})}</div>


        <div class="flex w-full justify-between space-x-4">${o(S,"Label").$$render(l,{class:"space-y-2 w-1/4"},{},{default:()=>`<span>반복횟수</span>
                ${o(C,"Input").$$render(l,{type:"number",name:"repeat time",min:"1",max:"20",required:!0,value:d.repeat},{value:m=>{d.repeat=m,i=!1}},{})}`})}
            <div class="flex-col w-3/4">${o(S,"Label").$$render(l,{class:"space-y-2 w-full"},{},{default:()=>`<span>공부 시간 [분]</span>
                    ${o(C,"Input").$$render(l,{type:"range",name:"day start time",placeholder:"AM 07:00",required:!0,value:d.working},{value:m=>{d.working=m,i=!1}},{})}`})}
                ${o(S,"Label").$$render(l,{class:"space-y-2 w-full"},{},{default:()=>`<span>쉬는 시간 [분]</span>
                    ${o(C,"Input").$$render(l,{type:"range",name:"day end time",placeholder:"PM 11:00",required:!0,value:d.breaking},{value:m=>{d.breaking=m,i=!1}},{})}`})}</div></div>

        ${o(S,"Label").$$render(l,{class:"space-y-2 w-full"},{},{default:()=>`<span>알람</span>
            <div class="w-full flex space-x-4"><div class="flex w-1/2 justify-between space-x-2">${o(S,"Label").$$render(l,{class:"space-y-2 w-full"},{},{default:()=>"<span>session 전환</span>"})}
                    ${o(C,"Input").$$render(l,{type:"checkbox",required:!0,size:"sm",style:"width:26px; height:26px;",checked:d.alarmSession},{checked:m=>{d.alarmSession=m,i=!1}},{})}</div>
                <div class="flex w-1/2 justify-between space-x-2">${o(S,"Label").$$render(l,{class:"space-y-2 w-full"},{},{default:()=>"<span>공부 끝!</span>"})}
                    ${o(C,"Input").$$render(l,{checked:d.alarmDone,type:"checkbox",required:!0,size:"sm",style:"width:26px; height:26px;"},{},{})}</div></div>`})}

        ${o(S,"Label").$$render(l,{class:"space-y-2 w-full"},{},{default:()=>`<span>배경음</span>
            <div class="flex justify-between space-x-2">${o(C,"Input").$$render(l,{checked:d.useBgm,type:"checkbox",required:!0,size:"sm",style:"width:40px; height:40px;"},{},{})}
                ${o(We,"Fileupload").$$render(l,{id:"with_helper",class:"mb-2 w-full",value:d.bgm},{value:m=>{d.bgm=m,i=!1}},{})}</div>`})}
        <div class="flex w-full justify-between space-x-2">${o(U,"Button").$$render(l,{type:"button",class:"w-1/3"},{},{default:()=>"설정 초기화"})}
            ${o(U,"Button").$$render(l,{type:"submit",class:"w-2/3"},{},{default:()=>"설정 등록"})}</div></form>`})}`;while(!i);return s(),e(),p}),Ue=Symbol(),h=50,j=65,L=65;function Ve(){this.time=0,this.angle=0,this.text="",this.stroke_width="thin"}function Q(l){const t=l.angle*Math.PI/180,r=j+Math.sin(t)*h,u=L-Math.cos(t)*h,s=j+Math.sin(t)*(h-.1*h),d=L-Math.cos(t)*(h-.1*h);return{x1:r,y1:u,x2:s,y2:d}}function ie(l){const t=l.angle*Math.PI/180;let r=0,u=0;return l.angle<=90?(r=j+Math.sin(t)*(h+.1*h),u=L-Math.cos(t)*(h+.1*h)):l.angle<=180?(r=j+Math.sin(t)*(h+.1*h),u=L-Math.cos(t)*(h+.2*h)):l.angle<=270?(r=j+Math.sin(t)*(h+.3*h),u=L-Math.cos(t)*(h+.2*h)):(r=j+Math.sin(t)*(h+.3*h),u=L-Math.cos(t)*(h+.1*h)),{x:r,y:u}}const Ye=w((l,t,r,u)=>{const s=j*2,d=L*2;let e=[];for(let a=0;a<60;a+=1){let c=new Ve;c.time=a,c.angle=6*a,a%5===0&&(c.stroke_width="thick",c.text=a.toString()),e.push(c)}let{designTimer:n}=t;return t.designTimer===void 0&&r.designTimer&&n!==void 0&&r.designTimer(n),`<div${b("class",n,0)}><svg viewBox="${"0 0 "+x(s,!0)+" "+x(d,!0)}"><circle${b("cx",j,0)}${b("cy",L,0)}${b("r",h,0)} stroke="black" fill="transparent"></circle>${ce(e,a=>`<line${b("x1",Q(a).x1,0)}${b("y1",Q(a).y1,0)}${b("x2",Q(a).x2,0)}${b("y2",Q(a).y2,0)} stroke="black"${b("stroke-width",a.stroke_width==="thick"?1.5:.5,0)}></line>
            <text${b("x",ie(a).x,0)}${b("y",ie(a).y,0)} font-size="8">${x(a.text)}</text>`)}</svg></div>`}),Ze=re({values:{working:50,breaking:10,repeat:3,dayStartTime:"09:00",dayEndTime:"24:00",alarmSession:!0,alarmDone:!0,bgm:null,useBgm:!1}});function $e(l){let{data:t,type:r,options:u,plugins:s,children:d,$$scope:e,$$slots:n,...a}=l;return a}const et=w((l,t,r,u)=>{let{type:s}=t,{data:d={datasets:[]}}=t,{options:e={}}=t,{plugins:n=[]}=t,{updateMode:a=void 0}=t,{chart:c=null}=t,f,i=$e(t);return ke(()=>{c&&c.destroy(),c=null}),fe(),t.type===void 0&&r.type&&s!==void 0&&r.type(s),t.data===void 0&&r.data&&d!==void 0&&r.data(d),t.options===void 0&&r.options&&e!==void 0&&r.options(e),t.plugins===void 0&&r.plugins&&n!==void 0&&r.plugins(n),t.updateMode===void 0&&r.updateMode&&a!==void 0&&r.updateMode(a),t.chart===void 0&&r.chart&&c!==void 0&&r.chart(c),`<canvas${ee([te(i)],{})}${b("this",f,0)}></canvas>`}),tt=w((l,t,r,u)=>{ve.register(De);let{chart:s=null}=t,d,e;fe(),t.chart===void 0&&r.chart&&s!==void 0&&r.chart(s);let n,a;do n=!0,d=t,a=`${o(et,"Chart").$$render(l,Object.assign({},{type:"doughnut"},d,{this:e},{chart:s}),{this:c=>{e=c,n=!1},chart:c=>{s=c,n=!1}},{})}`;while(!n);return a}),ne=w((l,t,r,u)=>{let{state:s}=t,{timeLeft:d}=t,{timeDone:e}=t,{designTimer:n}=t,{mode:a=""}=t;ve.register(Ge,Ee,Fe,Re,ze);const c={plugins:{legend:{display:!1},tooltip:{enabled:!1},title:{display:!1,text:"Pomodoro"},responsive:!0}},f={labels:["done","goal"],datasets:[{label:"do / Goal",data:[0,1],backgroundColor:["#e11d48","#f7f4f5"],borderColor:["#e11d48","#f6f4f5"],borderWidth:1,cutout:"10%"}]};return t.state===void 0&&r.state&&s!==void 0&&r.state(s),t.timeLeft===void 0&&r.timeLeft&&d!==void 0&&r.timeLeft(d),t.timeDone===void 0&&r.timeDone&&e!==void 0&&r.timeDone(e),t.designTimer===void 0&&r.designTimer&&n!==void 0&&r.designTimer(n),t.mode===void 0&&r.mode&&a!==void 0&&r.mode(a),a==="goalTimer"&&(f.datasets[0].cutout="90%"),s==="WORKING"||s==="BREAKING"?a==="hourTimer"?(d=Math.floor(d/60),e=Math.floor(e/60)||1,f.datasets[0].data=[d%60,60-d%60]):f.datasets[0].data=[e,d]:f.datasets[0].data=[0,1],`
${o(tt,"Doughnut").$$render(l,{data:f,options:c,class:n},{},{})}`}),rt={code:".timerBox.svelte-47b95g{border-radius:16%;border:13px solid rgb(55, 55, 55);box-shadow:inset 0 0 3px 3px #52525b, inset 0 0 1px 2px rgba(50, 50, 50, 0.2)}",map:null},lt="absolute w-[calc(100%-3rem)]  scale-[94%] ",at="absolute w-[calc(100%-3rem)]  scale-[60%]",ot="relative w-[calc(100%-3rem)]  indent-0.5";function st(l){const[t,r]=l.split(":"),[u,s]=r.split(" ");return Number(t)*60+Number(u)}function dt(l){let t="";if(l){for(let r=0;r<l.length;r++)r===l.length-1?t+=l[r]+" ":t+=l[r]+", ";return t}else return"Select todo!"}const Ft=w((l,t,r,u)=>{let s,d,e,n,a,c;d=G(me,v=>s=v),c=G(Ze,v=>a=v);let f=!1;const i=re({values:{todo:"",curGoalTime:0,startTime:"",date:"",goalEndTime:"",state:"IDLE",repeated:0,repeatStartTime:{hours:0,minutes:0},endTime:"",studyTime:0},functions:{diffTime:(v,z,P)=>{const F=st(P),O=v%12*60+z;return Math.abs(O-F)},addMinutes:(v,z,P)=>{const F=v*60+z+P;let O=Math.floor(F/60),be=Math.floor(F%60),ye=O>=12?"PM":"AM";return`${(O%12).toString().padStart(2,"0")}:${be.toString().padStart(2,"0")} ${ye}`},resetCurrentWork:()=>{g(i,e.values.todo="",e),g(i,e.values.curGoalTime=a.values.working,e),g(i,e.values.startTime=0,e),g(i,e.values.date=0,e);const v=a.values.repeat*(e.values.curGoalTime+a.values.breaking);g(i,e.values.goalEndTime=e.functions.addMinutes(s.hours,s.minutes,v),e),g(i,e.values.state="IDLE",e),g(i,e.values.repeated=0,e),g(i,e.values.repeatStartTime={hours:0,minutes:0},e),g(i,e.values.endTime="",e),g(i,e.values.studyTime=0,e)}},errors:{}});n=G(i,v=>e=v),ue(Ue,i);let p=null;function m(){p===null&&(p=new Audio("https://freesound.org/data/previews/80/80921_1022651-lq.mp3")),p.play()}let{todoSelected:T=""}=t,M=0,y=e.values.curGoalTime*60,k=0,D=!1,E=null,W=null,A=0;function I(v){D=!0,clearInterval(W),v&&(v.preventDefault(),e.values.state=="IDLE"&&(g(i,e.values.startTime=s.shortTime,e),g(i,e.values.repeatStartTime.hours=s.hours,e),g(i,e.values.repeatStartTime.minutes=s.minutes,e),g(i,e.values.date=s.shortDate,e),y=e.values.curGoalTime*60,g(i,e.values.state="WORKING",e))),E=setInterval(()=>{if(y--,k++,y<=0)if(clearInterval(E),e.values.state!="BREAKING"){if(g(i,e.values.repeated++,e),e.values.repeated===a.values.repeat){g(i,e.values.repeatStartTime.hours=s.hours,e),g(i,e.values.repeatStartTime.minutes=s.minutes,e),he(s.shortTime);return}g(i,e.values.state="BREAKING",e),m(),y=a.values.breaking*60,k=0,I()}else g(i,e.values.state="WORKING",e),m(),g(i,e.values.repeatStartTime.hours=s.hours,e),g(i,e.values.repeatStartTime.minutes=s.minutes,e),y=e.values.curGoalTime*60,k=0,I()},1e3)}function xe(v){v&&v.preventDefault(),D=!1,clearInterval(E),W=setInterval(()=>{A++},1e3),g(i,e.values.state="WORKING",e)}function he(v){m(),f=!0,g(i,e.values.endTime=v,e);const z=e.values.repeated*e.values.curGoalTime,P=e.functions.diffTime(e.values.repeatStartTime.hours,e.values.repeatStartTime.minutes,v),F=Math.floor(A/60);g(i,e.values.studyTime=z+P-F,e)}function pe(){(e.values.state==="WORKING"||e.values.state==="BREAKING")&&(D?xe():I())}t.todoSelected===void 0&&r.todoSelected&&T!==void 0&&r.todoSelected(T),l.css.add(rt);let R,le;do{if(R=!0,e.values.state=="IDLE"){g(i,e.values.todo=dt(T),e),g(i,e.values.curGoalTime=a.values.working+M,e);const v=a.values.repeat*(e.values.curGoalTime+a.values.breaking);g(i,e.values.goalEndTime=e.functions.addMinutes(s.hours,s.minutes,v),e)}le=`<div class="relative flex-col h-full w-full ">

    <div class="relative w-full h-2/3 flex-col p-4 max-h-[790px]"><div class="h-[40px] w-full relative -top-4 flex border-b-4 leading-8"><p class="text-[1.6rem] line-clamp-1 font-bold w-auto">${x(e.values.todo?e.values.todo:"Select Todo!")}</p></div>

        <div class="w-full flex justify-center items-center h-[calc(100%-50px)] space-x-4 relative mt-0"><div class="flex-col w-2/5 h-full relative min-w-[250px] "><div class="w-full h-5/6 max-h-[calc(100%-84px)] ">${o(Oe,"TodoSelect").$$render(l,{todoSelected:T},{todoSelected:v=>{T=v,R=!1}},{})}</div>
                <div class="w-full h-1/6 min-h-[80px] max-h-[110px]">${o(qe,"TimeSelect").$$render(l,{timeSelected:M},{timeSelected:v=>{M=v,R=!1}},{})}</div></div>

            <div class="relative top-1 timerBox w-3/5 flex justify-center items-center h-[calc(100%+1rem)] svelte-47b95g">${o(ne,"Timer").$$render(l,{designTimer:lt,timeLeft:y,timeDone:k,state:e.values.state,mode:"goalTimer"},{},{})}
                ${o(ne,"Timer").$$render(l,{designTimer:at,timeLeft:y,timeDone:k,state:e.values.state,mode:"hourTimer"},{},{})}
                ${o(Ye,"ClockDesign").$$render(l,{designTimer:ot},{},{})}

                <div class="h-[18%] w-1/2 absolute indent-0.5">${o(Xe,"TimerState").$$render(l,{timeLeft:y,state:e.values.state,controlInTimer:pe},{},{})}</div>

                <div class="flex-col mb-1 font-bold absolute bg-white p-2 rounded-lg text-center bottom-2.5 opacity-80"><div class="text-[1.2vw] "><span class="text-rose-700 inline-block">[${x(e.values.curGoalTime)} min * ${x(a.values.repeat)}]
                        </span>

                        ${e.values.state=="WORKING"?`<div class="bg-white inline-block rounded-md px-2">
                                ${x((e.values.repeatStartTime.hours%12).toString().padStart(2,"0"))}:${x(e.values.repeatStartTime.minutes.toString().padStart(2,"0"))}:${x(e.values.repeatStartTime.hours>=12?"PM":"AM")}</div>

                            - ${x(e.functions.addMinutes(e.values.repeatStartTime.hours,e.values.repeatStartTime.minutes,e.values.curGoalTime))}`:`<div class="bg-white inline-block rounded-md px-2">${x(s.shortTime)}</div>
                            - ${x(e.values.goalEndTime)}`}</div></div></div></div>

        ${o(Je,"Controller").$$render(l,{isRunning:D,state:e.values.state},{},{})}</div>

    <div class="relative top-[64px] w-full h-1/4">${o(Te,"Memo").$$render(l,{},{},{})}</div></div>

${o(ge,"Modal").$$render(l,{title:"DONE !",permanent:!0,autoclose:!0,outsideclose:!0,class:"flex-col w-full h-full",open:f},{open:v=>{f=v,R=!1}},{default:()=>`<p class="font-bold text-2xl text-center leading-relaxed text-gray-500 dark:text-gray-400">goal time: ${x(e.values.goalEndTime)} -&gt; finish time: ${x(s.shortTime)}</p>
    <div class="flex justify-between font-bold text-xl border-t pt-5"><div>study time: ${x(e.values.studyTime)}</div>
        ${o(U,"Button").$$render(l,{color:"alternative",class:"self-end text-xl font-bold"},{},{default:()=>"Close"})}</div>`})}`}while(!R);return d(),n(),c(),le});export{Ft as default};
